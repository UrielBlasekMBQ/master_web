                <!-- ============================================================== -->
                <div class="row page-titles">
                    <div class="col-md-5 align-self-center">
                        <h3 class="text-themecolor">Revisión Acompañamiento</h3>
                    </div>
                    <div class="col-md-7 align-self-center">
                        <ol class="breadcrumb" *ngIf="viewDepartamentos" >
                            <li class="breadcrumb-item"><a routerLink="/dashboard"><button class="btn btn-outline-info">Inicio</button></a></li>
                              <li class="breadcrumb-item "><button class="btn btn-outline-info active"><a>Procesos</a></button></li>
                        </ol>
                        <ol class="breadcrumb" *ngIf="viewTabla" >
                            
                            <li class="breadcrumb-item"><a routerLink="/dashboard"><button class="btn btn-outline-info">Inicio</button></a></li>
                            <li class="breadcrumb-item "><button (click)="backDepartamentos()" class="btn btn-outline-info "><a>Procesos</a></button></li>
                            <li class="breadcrumb-item "><button class="btn btn-outline-info active"><a>Documentos</a></button></li>
                              
                        </ol>
                        <ol class="breadcrumb" *ngIf="viewPdf" >
                            
                            <li class="breadcrumb-item"><a routerLink="/dashboard"><button class="btn btn-outline-info">Inicio</button></a></li>
                            <li class="breadcrumb-item "><button (click)="backDepartamentos()" class="btn btn-outline-info"><a>Procesos</a></button></li>
                            <li class="breadcrumb-item "><button (click)="backTable()" class="btn btn-outline-info" ><a>Documentos</a></button></li>
                            
                            <li class="breadcrumb-item "><button class="btn btn-outline-info active"><a>PDF</a></button></li>
                              
                        </ol>
                    </div>
                    <div class="">
                        <button class="right-side-toggle waves-effect waves-light btn-inverse btn btn-circle btn-sm pull-right m-l-10"><i class="ti-settings text-white"></i></button>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- End Bread crumb and right sidebar toggle -->

                 <!-- ============================================================== -->

                        <!-- Row -->
                        <div class="row" *ngIf="viewDepartamentos" >
                            
                            <!-- column -->
                            <div *ngFor="let departamento of listProcesos" class="col-lg-3">
                                <!-- Card -->
                                <div class="card">
                                    <div class="card-body">
                                        <h4 class="card-title texto-centrado">{{departamento.departamento}} <span class="label label-success">{{departamento.contador}}</span> <span *ngIf="departamento.estatus_proceso==0" class="label label-danger">Inactivo</span></h4>
                                        <img class="card-img-top imagen-responsiva" src="./assets/images/big/trabajar.png" alt="Card image cap">
                                        <div class="text-center mt-2"><a style="color: white ;" class="btn btn-primary" (click)="getSolicitudes(departamento)" >Consultar</a></div>
                                    </div>
                                </div>
                                <!-- Card -->
                            </div>
                            <!-- column -->
                            <!-- column -->
                        </div>
                        <!-- Row -->

            
                        <div class="col-sm-12" *ngIf="viewTabla">
                            
                            <div class="card" >
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table id="myTable" class="table table-bordered table-striped">
                                            <thead>
                                                <tr class="texto-centrado">
                                                    <th class="texto-centrado">No</th>                                                
                                                    <th class="texto-centrado">Autor</th>
                                                    <th class="texto-centrado">R. interno</th>                                                    
                                                    <th class="texto-centrado">R. externo</th>                                                    
                                                    <th class="texto-centrado">Proceso</th>
                                                    <th class="texto-centrado">Documento</th>                                                    
                                                    <th class="texto-centrado">R. interna</th>                              
                                                    <th class="texto-centrado">R. externa</th>                                                  
                                                    <th class="texto-centrado">Descarga </th>                                                                                                        
                                                    <th class="texto-centrado">Aprobación </th>
                                                    <th class="texto-centrado">Eliminar</th>
    
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="texto-centrado" *ngFor="let solicitud of solicitudes  | paginate: { itemsPerPage: 10, currentPage: p }; let i=index">
                                                    <th class="texto-centrado">{{i+1}}</th>                                                
                                                    <th class="texto-centrado">{{solicitud.nom_autor}} {{solicitud.ape_autor}}</th>
                                                    <th class="texto-centrado">{{solicitud.nom_interno}} {{solicitud.ape_interno}} </th> 
                                                    <th class="texto-centrado">{{solicitud.nom_externo}} {{solicitud.ape_externo}} </th> 
                                                    <th class="texto-centrado">{{solicitud.nom_proceso}}</th>                                                     
                                                    <th class="texto-centrado">{{solicitud.solicita_nom}}</th>                                                    
                                                                                                                                                        
                                                    <th class="texto-centrado">
                                                        <span *ngIf="solicitud.revision_interna == 0" class="label label-warning">Proceso</span> 
                                                        <span *ngIf="solicitud.revision_interna == 1" class="label label-success">Revisado</span> 
                                                        <span *ngIf="solicitud.revision_interna == 2" class="label label-danger">Rechazado</span> 
                                                        <span *ngIf="solicitud.revision_interna == 3" class="label label-primary">Observación</span>
                                                    </th>
                                                    <th class="texto-centrado" >
                                                        <span *ngIf="solicitud.revision_externa == 0 && solicitud.revision_interna == 1 && solicitud.id_revisor_externo >0" class="label label-warning">Proceso</span> 
                                                        <span *ngIf="solicitud.revision_externa == 1 && solicitud.revision_interna == 1 && solicitud.id_revisor_externo >0" class="label label-success">Revisado</span> 
                                                        <span *ngIf="solicitud.revision_externa == 2 && solicitud.revision_interna == 1 && solicitud.id_revisor_externo >0" class="label label-danger">Rechazado</span> 
                                                        <span *ngIf="solicitud.revision_externa == 3 && solicitud.revision_interna == 1 && solicitud.id_revisor_externo >0" class="label label-primary">Observación</span>                                                        
                                                    </th>
                                                    <th class="texto-centrado">
                                                        <a style="color:  #398bf7 ;" class="ver ml-1" href="{{downPDF+solicitud.solicita_doc}}" ><i class="mdi mdi-file-document fa-lg" ></i></a>
                                                    </th>
                                                    <!---///////////Revision interna/////////-->
                                                    <th *ngIf="usuario.id_usuario == solicitud.id_revisor_interno" class="texto-centrado">
                                                      <div *ngIf="solicitud.revision_interna == 0">
                                                        <button type="button" class="btn btn-primary btn-circle btn-sm" data-toggle="modal" data-target="#Observacion_interna" (click)="extraerSolicitud(solicitud)"><i class="mdi mdi-message-alert"></i> </button>
                                                        <button type="button" class="btn btn-success btn-circle btn-sm mx-2" (click)="updateRevisarAprobadoInterno(solicitud)"><i class="mdi mdi-check "></i> </button>
                                                        <button type="button" class="btn btn-danger btn-circle btn-sm" data-toggle="modal" data-target="#Rechazo_interno" (click)="extraerSolicitud(solicitud)"><i class="mdi mdi-close"></i> </button>
                                                      </div>
                                                      <div *ngIf="solicitud.revision_interna > 1">
                                                        <button type="button" class="btn btn-primary btn-circle btn-sm" data-toggle="modal" data-target="#Observacion" (click)="getObservacion(solicitud)"><i class="mdi mdi-message-alert"></i> </button>
                                                      </div>
                                                    </th>
                                                    
                                                    <th  *ngIf="usuario.id_usuario == solicitud.id_revisor_interno" class="texto-centrado">
                                                        <button *ngIf="solicitud.revision_interna > 1" type="button" class="btn btn-danger btn-circle btn-sm" data-toggle="modal" data-target="#eliminar" (click)="extraerSolicitud(solicitud)"><i class="mdi mdi-delete"></i> </button>
                                                    </th>
                                                    <!---///////////Revision interna/////////-->
                                                    <!---///////////Revision Externa/////////-->
                                                    <th *ngIf="usuario.id_usuario == solicitud.id_revisor_externo && solicitud.revision_interna == 1" class="texto-centrado">
                                                        <div *ngIf="solicitud.revision_externa == 0">
                                                            <button type="button" class="btn btn-primary btn-circle btn-sm" data-toggle="modal" data-target="#Observacion_externa" (click)="extraerSolicitud(solicitud)"><i class="mdi mdi-message-alert"></i> </button>
                                                            <button type="button" class="btn btn-success btn-circle btn-sm mx-2" (click)="updateRevisarAprobadoExterno(solicitud)"><i class="mdi mdi-check "></i> </button>
                                                            <button type="button" class="btn btn-danger btn-circle btn-sm" data-toggle="modal" data-target="#Rechazo_externa" (click)="extraerSolicitud(solicitud)"><i class="mdi mdi-close"></i> </button>
                                                        </div>
                                                        <div *ngIf="solicitud.revision_externa > 1">
                                                            <button type="button" class="btn btn-primary btn-circle btn-sm" data-toggle="modal" data-target="#Observacion" (click)="getObservacion(solicitud)"><i class="mdi mdi-message-alert"></i> </button>
                                                        </div>
                                                    </th>
                                                        
                                                        <th *ngIf="usuario.id_usuario == solicitud.id_revisor_externo" class="texto-centrado">
                                                            <button *ngIf="solicitud.revision_externa > 1" type="button" class="btn btn-danger btn-circle btn-sm" data-toggle="modal" data-target="#eliminar" (click)="extraerSolicitud(solicitud)"><i class="mdi mdi-delete"></i> </button>
                                                        </th>
                                                        <!---///////////Revision Externa/////////-->
                                                </tr>
    
                                            </tbody>
                                        </table>
                                        <pagination-controls (pageChange)="p = $event"></pagination-controls>
                                    </div>
                                </div>
                            </div>
                        </div>

                         <!-- Sales overview chart -->
                         <div class="col-md-12"  *ngIf="viewPdf" >
                                 
                            <pdf-viewer  [src]="pdfSrc"
                            [render-text]="true"
                            [original-size]="false"
                            style="width: 100%; height: 100vh"
                          ></pdf-viewer>
                        </div>
                    <!-- ============================================================== -->
                    <!-- ==============================REVISION INTERNA=============================== -->

                    <div id="Observacion_interna" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h3 class="modal-title" id="myLargeModalLabel">Mandar Observación </h3>
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                </div>
                                <div class="modal-body">                                

                                    <form name="formObservacion" [formGroup]="formObservacion" >
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label class="control-label">Observación:</label>
                                                    
                                                    <textarea class="form-control" rows="6" id="observacion" formControlName="observacion"></textarea>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </form>         
                                    
                                    
                                </div>
                                <div class="modal-footer">
                                    <div class="form-actions">
                                        <button type="submit" class="btn btn-success" data-dismiss="modal" [disabled]="formObservacion.invalid" (click)="addObservacion_interna()"><i class="fa fa-check"></i> Enviar</button>
                                        <button type="button" class="btn btn-danger waves-effect text-left" data-dismiss="modal">Cerrar</button>
                                    </div>
                                    
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>

                    <div id="Rechazo_interno" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h3 class="modal-title" id="myLargeModalLabel">Rechazar </h3>
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                </div>
                                <div class="modal-body"> 
                                    <form name="formObservacion1" [formGroup]="formObservacion1" >
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label class="control-label">Observación de rechazo:</label>
                                                    
                                                    <textarea class="form-control" rows="6" id="observacion" formControlName="observacion"></textarea>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </form>                               
                                    
                                </div>
                                <div class="modal-footer">
                                    <div class="form-actions">
                                        <button type="submit" class="btn btn-danger" data-dismiss="modal" [disabled]="formObservacion1.invalid" (click)="addObservacionRechazo()"><i class="fa fa-check"></i> Rechazar</button>
                                        <button type="button" class="btn btn-info waves-effect text-left" data-dismiss="modal">Cerrar</button>
                                    </div>
                                    
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- ==============================REVISION INTERNA=============================== -->

                    <!-- ==============================REVISION EXTERNA=============================== -->

                    <div id="Observacion_externa" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h3 class="modal-title" id="myLargeModalLabel">Mandar Observación </h3>
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                </div>
                                <div class="modal-body">                                

                                    <form name="formObservacion" [formGroup]="formObservacion" >
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label class="control-label">Observación:</label>
                                                    
                                                    <textarea class="form-control" rows="6" id="observacion" formControlName="observacion"></textarea>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </form>         
                                    
                                    
                                </div>
                                <div class="modal-footer">
                                    <div class="form-actions">
                                        <button type="submit" class="btn btn-success" data-dismiss="modal" [disabled]="formObservacion.invalid" (click)="addObservacion_externa()"><i class="fa fa-check"></i> Enviar</button>
                                        <button type="button" class="btn btn-danger waves-effect text-left" data-dismiss="modal">Cerrar</button>
                                    </div>
                                    
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>

                    <div id="Rechazo_externa" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h3 class="modal-title" id="myLargeModalLabel">Rechazar </h3>
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                </div>
                                <div class="modal-body"> 
                                    <form name="formObservacion1" [formGroup]="formObservacion1" >
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label class="control-label">Observación de rechazo:</label>
                                                    
                                                    <textarea class="form-control" rows="6" id="observacion" formControlName="observacion"></textarea>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </form>                               
                                    
                                </div>
                                <div class="modal-footer">
                                    <div class="form-actions">
                                        <button type="submit" class="btn btn-danger" data-dismiss="modal" [disabled]="formObservacion1.invalid" (click)="addObservacionRechazo_externo()"><i class="fa fa-check"></i> Rechazar</button>
                                        <button type="button" class="btn btn-info waves-effect text-left" data-dismiss="modal">Cerrar</button>
                                    </div>
                                    
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- ==============================REVISION EXTERNA=============================== -->



                    <div id="Observacion" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h3 class="modal-title" id="myLargeModalLabel">Observación </h3>
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                </div>
                                <div class="modal-body"> 
                                    
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label class="control-label">Observación:</label>
                                                    
                                                    <textarea class="form-control" rows="6" id="observacion" [(ngModel)]="observacion" [disabled]="true"></textarea>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                        
                                    
                                    
                                </div>
                                <div class="modal-footer">
                                    <div class="form-actions">
                                        
                                        <button type="button" class="btn btn-info waves-effect text-left" data-dismiss="modal">Cerrar</button>
                                    </div>
                                    
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>

                    <div id="eliminar" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
                        <div class="modal-dialog modal-sm">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h3 class="modal-title" id="myLargeModalLabel">Eliminar solicitud </h3>
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                </div>
                                <div class="modal-body"> 
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <div class="form-group">

                                                    <p>Esta seguro de eliminar la solicitud ?</p>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                </div>
                                <div class="modal-footer">
                                    <div class="form-actions">
                                        <button type="submit" class="btn btn-danger" data-dismiss="modal" (click)="sendSolicitud()"> <i class="fa fa-check" ></i> Eliminar</button>
                                        <button type="button" class="btn btn-info waves-effect text-left" data-dismiss="modal">Cerrar</button>
                                    </div>
                                    
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
